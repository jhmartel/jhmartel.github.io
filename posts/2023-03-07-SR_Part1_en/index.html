<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.2.335">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">

<meta name="author" content="JHM">
<meta name="dcterms.date" content="2023-03-07">
<meta name="description" content="We are beginning to publish our essay on Special Relativity (SR). The essay is a critical review of the foundations of SR. We present the paper in several parts. In this first part, we simply address the basic assumptions of SR, Lorentz transformations, and the null cone.">

<title>jhmartel.github.io - Foundations of Special Relativity and Light Propagation in Vacuum. A Critical Review (1/4).</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1.6em;
  vertical-align: middle;
}
div.csl-bib-body { }
div.csl-entry {
  clear: both;
}
.hanging div.csl-entry {
  margin-left:2em;
  text-indent:-2em;
}
div.csl-left-margin {
  min-width:2em;
  float:left;
}
div.csl-right-inline {
  margin-left:2em;
  padding-left:1em;
}
div.csl-indent {
  margin-left: 2em;
}
</style>


<script src="../../site_libs/quarto-nav/quarto-nav.js"></script>
<script src="../../site_libs/quarto-nav/headroom.min.js"></script>
<script src="../../site_libs/clipboard/clipboard.min.js"></script>
<script src="../../site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="../../site_libs/quarto-search/fuse.min.js"></script>
<script src="../../site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="../../">
<script src="../../site_libs/quarto-html/quarto.js"></script>
<script src="../../site_libs/quarto-html/popper.min.js"></script>
<script src="../../site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="../../site_libs/quarto-html/anchor.min.js"></script>
<link href="../../site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="../../site_libs/quarto-html/quarto-syntax-highlighting-dark.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="../../site_libs/bootstrap/bootstrap.min.js"></script>
<link href="../../site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="../../site_libs/bootstrap/bootstrap.min.css" rel="stylesheet" id="quarto-bootstrap" data-mode="dark">
<script id="quarto-search-options" type="application/json">{
  "location": "navbar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "end",
  "type": "overlay",
  "limit": 20,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit"
  }
}</script>

  <script src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-chtml-full.js" type="text/javascript"></script>

<link rel="stylesheet" href="../../styles.css">
</head>

<body class="nav-fixed fullcontent">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
    <nav class="navbar navbar-expand-lg navbar-dark ">
      <div class="navbar-container container-fluid">
      <div class="navbar-brand-container">
    <a class="navbar-brand" href="../../index.html">
    <span class="navbar-title">jhmartel.github.io</span>
    </a>
  </div>
          <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarCollapse" aria-controls="navbarCollapse" aria-expanded="false" aria-label="Toggle navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
  <span class="navbar-toggler-icon"></span>
</button>
          <div class="collapse navbar-collapse" id="navbarCollapse">
            <ul class="navbar-nav navbar-nav-scroll ms-auto">
  <li class="nav-item">
    <a class="nav-link" href="../../about.html">
 <span class="menu-text">About</span></a>
  </li>  
  <li class="nav-item compact">
    <a class="nav-link" href="https://github.com/jhmartel/"><i class="bi bi-github" role="img">
</i> 
 <span class="menu-text"></span></a>
  </li>  
  <li class="nav-item compact">
    <a class="nav-link" href="https://twitter.com/_jhmlabs"><i class="bi bi-twitter" role="img">
</i> 
 <span class="menu-text"></span></a>
  </li>  
</ul>
              <div id="quarto-search" class="" title="Search"></div>
          </div> <!-- /navcollapse -->
      </div> <!-- /container-fluid -->
    </nav>
</header>
<!-- content -->
<header id="title-block-header" class="quarto-title-block default page-columns page-full">
  <div class="quarto-title-banner page-columns page-full">
    <div class="quarto-title column-body">
      <h1 class="title">Foundations of Special Relativity and Light Propagation in Vacuum. A Critical Review (1/4).</h1>
                  <div>
        <div class="description">
          We are beginning to publish our essay on Special Relativity (SR). The essay is a critical review of the foundations of SR. We present the paper in several parts. In this first part, we simply address the basic assumptions of SR, Lorentz transformations, and the null cone.
        </div>
      </div>
                          <div class="quarto-categories">
                <div class="quarto-category">SR</div>
                <div class="quarto-category">Einstein</div>
                <div class="quarto-category">light</div>
              </div>
                  </div>
  </div>
    
  
  <div class="quarto-title-meta">

      <div>
      <div class="quarto-title-meta-heading">Author</div>
      <div class="quarto-title-meta-contents">
               <p>JHM </p>
            </div>
    </div>
      
      <div>
      <div class="quarto-title-meta-heading">Published</div>
      <div class="quarto-title-meta-contents">
        <p class="date">March 7, 2023</p>
      </div>
    </div>
    
      
    </div>
    
  
  </header><div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article page-navbar">
<!-- sidebar -->
<!-- margin-sidebar -->
    
<!-- main -->
<main class="content quarto-banner-title-block" id="quarto-document-content">




<p>Here we begin our presentation of a critical review of the mathematical foundations of special relativity (SR) and propagation of light <em>in vacuum</em>. The present work developed from the author reviewing the articles of <span class="citation" data-cites="bryant">(<a href="#ref-bryant" role="doc-biblioref">Bryant, n.d.</a>)</span> and <span class="citation" data-cites="crothers">(<a href="#ref-crothers" role="doc-biblioref">Crothers 2019</a>)</span>. Our goal is to present these mathematical controversies in the simplest possible terms.</p>
<section id="assumptions-of-sr" class="level1">
<h1><em>Assumptions of SR</em></h1>
<p>We begin with Einstein’s introduction to his theory of Special Relativity (SR). See <span class="citation" data-cites="einstein1905electrodynamics">(<a href="#ref-einstein1905electrodynamics" role="doc-biblioref">Einstein et al. 1905</a>)</span> and <span class="citation" data-cites="einstein2019relativity">(<a href="#ref-einstein2019relativity" role="doc-biblioref">Einstein 2019, Ch.7, 11</a>)</span>:</p>
<p><em>“There is hardly a simpler law in physics than that according to which light is propagated in empty space. Every child at school knows, or believes he knows, that this propagation takes place in straight lines with velocity <span class="math inline">\(c=300,000 ~km/sec\)</span>. Who would imagine that this simple law has plunged the conscientiously thoughtful physicist into the greatest intellectual difficulties?”</em></p>
<p>The elaboration of these intellectual difficulties arising from this seemingly “simple law” is the subject of our discussion today.</p>
<p>What are these difficulties? Namely to reconcile the following axiomatic assumptions of SR:</p>
<ul>
<li><p>(A1) that the laws of physics are the same in all nonaccelerated reference frames, i.e.&nbsp;if <span class="math inline">\(K'\)</span> is a coordinate system moving uniformly (and devoid of rotation) with respect to a coordinate system <span class="math inline">\(K\)</span>, then natural phenomena run their course with respect to <span class="math inline">\(K'\)</span> according to exactly the same laws as with respect to <span class="math inline">\(K\)</span>.</p></li>
<li><p>(A2) that light in vacuum propagates along straight lines with constant velocity <span class="math inline">\(c\approx 300,000 ~km/sec\)</span>.</p></li>
</ul>
</section>
<section id="apparent-difficulties-in-a12" class="level1">
<h1><em>Apparent Difficulties in (A12)</em></h1>
<p>The difficulties arise from the conjunction (A1) and (A2), which we denote by (A12). <span class="math display">\[(A12):=(A1) \wedge (A2).\]</span></p>
<p>If Assumption (A2) is indeed a Law of nature, then according to (A1) this law of propagation should be invariant in every inertial reference frame. But (A12) appears contradictory to the principles of classical mechanics, e.g.&nbsp;Fizeau law of addition of velocities.</p>
<p>Einstein alleges that these difficulties are only <em>apparent incompatibilities</em>, all of which are reconciled by postulating Lorentz-Fitzgerald formulae for length contractions and time dilations.</p>
<p>The assertion that the Lorentz formulae reconcile these difficulties contains two claims:</p>
<ul>
<li><ol type="i">
<li>that inertial frames <span class="math inline">\(K, K'\)</span> are related by Lorentz transformations.</li>
</ol></li>
<li><ol start="2" type="i">
<li>that the law of propagation of light (A2) is <em>Lorentz invariant.</em> I.e. if <span class="math inline">\((A2)\)</span> is satisfied in <span class="math inline">\(K\)</span>, then <span class="math inline">\((A2)\)</span> is satisfied in every Lorentz translate <span class="math inline">\(K'=\lambda.K\)</span>.</li>
</ol></li>
</ul>
<p>We critically examine these claims below. In what follows we will address both <em>wave</em> and <em>particle</em> models of light. Ultimately we argue that (A12) is incompatible with <em>both</em> models, i.e.&nbsp;incompatible with Bohr’s complementarity principle.</p>
</section>
<section id="lorentz-transformations" class="level1">
<h1><em>Lorentz Transformations</em></h1>
<p>The linear algebra of Minkowski space and Lorentz transformations plays a definitive role in SR.</p>
<p>Lorentz transformations in the setting of SR can be defined as the group of linear transformations <span class="math inline">\(\lambda: {\bf{R}}^{4} \to {\bf{R}}^4\)</span> which satisfy <span class="math inline">\(\lambda^*(h)=h\)</span> where <span class="math inline">\(h=ds^2\)</span> is the Minkowski-Lorentz quadratic form <span class="math display">\[h:=ds^2=-c^2dt^2+dx^2+dy^2+dz^2.\]</span> Here <span class="math inline">\(c\)</span> is the constant luminal velocity in vacuum posited by (A2).</p>
<p>The Lorentz invariance of <span class="math inline">\(h\)</span> says <span class="math display">\[\xi^2+\eta^2+\zeta^2-c^2 \tau^2\]</span> is numerically equal to <span class="math display">\[x^2+y^2+z^2-c^2 t^2\]</span> for every Lorentz transform <span class="math inline">\(\lambda\)</span> satisfying <span class="math display">\[(\xi, \eta, \zeta, \tau)=\lambda.(x,y,z,t).\]</span> Thus it is assumed that <span class="math inline">\(h\)</span> is a scalar invariant for all inertial observers.</p>
<p>The group of Lorentz transformations was hypothesized as an attempt to explain the observed null result of Michelson-Morley’s interferometer experiment. See <span class="citation" data-cites="michelson">(<a href="#ref-michelson" role="doc-biblioref">Michelson 1995</a>, Ch. XIV)</span> for historical reference. The experiment was intended to measure variations of the speed of light relative to the <em>aether</em>. No such variations were discovered, and it was <em>postulated</em> that the usual space and time coordinates <span class="math inline">\((x,y,z,t)\)</span> and <span class="math inline">\((\xi, \eta, \zeta, \tau)\)</span> of two inertial observers <span class="math inline">\(K\)</span> and <span class="math inline">\(K'\)</span>, respectively, were not related by Galilean transformations, but related by the Lorentz-Fitzgerald formulae. Incredibly and contrary to all expectations, the material arm of the interferometer contracted in the direction of motion and simultaneously the time parameter was contracted by the same ratio, namely the so-called beta factor <span class="math inline">\(\beta = 1/\sqrt{1-v^2/c^2}\)</span>.</p>
</section>
<section id="uniqueness-of-lorentz-invariant-quadratic-forms" class="level1">
<h1><em>Uniqueness of Lorentz Invariant Quadratic Forms</em></h1>
<p>It’s interesting result of Elton and Arminjo <span class="citation" data-cites="elton2010indefinite arminjon2018lorentz">(<a href="#ref-elton2010indefinite" role="doc-biblioref">Elton 2010</a>; <a href="#ref-arminjon2018lorentz" role="doc-biblioref">Arminjon et al. 2018</a>)</span> that Minkowski’s form <span class="math inline">\(h\)</span> is the <em>only</em> Lorentz invariant quadratic form on <span class="math inline">\({\bf{R}}^4\)</span> modulo homothety. This has useful consequence for the homogeneous wave equation, as we discuss below.</p>
</section>
<section id="minkowski-space-and-null-cone" class="level1">
<h1><em>Minkowski Space and Null Cone</em></h1>
<p>Now we say something about the photon model of light as treated in Levi-Civita’s book <span class="citation" data-cites="levi">(<a href="#ref-levi" role="doc-biblioref">Levi-Civita 1977, III.XI.6, pp.301</a>)</span>. If light satisfies (A2), then in a reference frame <span class="math inline">\(K\)</span>, light is <em>something</em> <span class="math display">\[\gamma(t)=(x(t),y(t),z(t))\]</span> that travels through space with time, and whose velocity <span class="math inline">\(\gamma'\)</span> <em>if it could be materially measured as a function of <span class="math inline">\(t\)</span></em> would satisfy - [Eq1] <span class="math display">\[||\gamma'||^2=(dx/dt)^2+(dy/dt)^2+(dz/dt)^2=c^2.\]</span></p>
<p>Thus it is argued that light trajectories are constrained to the null cone <span class="math display">\[N:=\{h=0\} \subset {\bf{R}}^4\]</span> of Minkowski’s metric <span class="math inline">\(h\)</span>. Obviously the null cone <span class="math inline">\(N\)</span> is Lorentz invariant subspace, and defined by the equation <span class="math display">\[x^2+y^2+z^2=c^2 t^2\]</span> in any reference frame <span class="math inline">\(K\)</span> with coordinates <span class="math inline">\((x,y,z,t)\)</span>.</p>
</section>
<section id="what-does-eq1-say-about-the-propagation-of-light" class="level1">
<h1><em>What does [Eq1] say about the Propagation of Light?</em></h1>
<p>Again if light is <em>something</em> <span class="math inline">\(\gamma\)</span> that travels, then [Eq1] implies the <em>speed</em> of <span class="math inline">\(\gamma\)</span> is identically equal to <span class="math inline">\(c\)</span> as measured in <span class="math inline">\(K\)</span>.</p>
<p>But the <em>speed</em> of <span class="math inline">\(\gamma\)</span> is independant of the direction of motion of <span class="math inline">\(\gamma\)</span> constrained to <span class="math inline">\(N\)</span>.</p>
<p>Einstein’s assumption (A2) attempts to prescribe the velocity by assuming the propagation is along straight lines with constant speed. But again the <em>velocity</em> is still underdetermined, since the direction of the particle is not determined by it’s belonging to a straight line.</p>
<p>We are proposing that the direction and magnitude are not determined uniquely by (A2). Moreover the Lorentz transformations do <em>not</em> satisfy Claim (ii), i.e.&nbsp;(A2) is <em>not</em> Lorentz <em>invariant</em>.</p>
<p>The problem is that the schoolboy’s image of the propagation of light in vacuum is a Riemannian perspective. But this Riemannian perspective is not Lorentz invariant. Indeed in Riemannian geometry, if a particle is travelling in a straight line and with constant velocity, then the propagation of the particle, namely it’s position as a function of time, <em>is</em> uniquely determined. However in Lorentzian geometry a particle which is travelling in a straight line along the null cone will always have a constant speed, regardless of its trajectory. Supposing that the trajectory is confined to a straight line, there still remains the question of the position of the particle as a function of time. The problem is that the <em>uniformity</em> of the straight line propagation is meaningless on the null cone of Lorentzian geometry.</p>
</section>
<section id="levi-civitas-variational-equation-is-trivial-on-the-null-cone" class="level1">
<h1><em>Levi-Civita’s Variational Equation is Trivial on the Null Cone</em></h1>
<p>Here we introduce Levi-Civita’s approach as represented in his excellent textbook <span class="citation" data-cites="levi">(<a href="#ref-levi" role="doc-biblioref">Levi-Civita 1977</a>, III.XI. 16)</span>. Levi-Civita modifies (A2) somewhat by asserting that “<em>the propagation of light is rectilinear, uniform, and with velocity <span class="math inline">\(c\)</span>“</em>.</p>
<p>The term “uniform” does not feature in Einstein’s formulation of (A2), although it speaks to the hidden assumption that the light rays have a canonical parameter describing the <em>uniform</em> motion of the light ray. The above remarks are directly related to Levi-Civita’s characterization of geometric optics in the following two equations:</p>
<ul>
<li><p>[Eq2] <span class="math display">\[\delta \int ds=0 \]</span> and</p></li>
<li><p>[Eq3] <span class="math display">\[ds^2=0.\]</span></p></li>
</ul>
<p>The first equation [Eq2] says the variational derivative of the functional <span class="math inline">\(\gamma \mapsto \int_\gamma ds\)</span> vanishes on the light trajectories, and the second equation [Eq3] says the trajectory is constrained to the null cone.</p>
<p>In the Riemannian setting where <span class="math inline">\(ds\)</span> is positive definite, the equation [Eq2] is essentially equivalent to the geodesic equation <span class="math inline">\(\nabla_{\gamma'} \gamma'=0\)</span>.</p>
<p>However in the Lorentzian setting we find [Eq2]reduces to <span class="math inline">\(0=0\)</span> on the null cone <span class="math inline">\(N\)</span>. Thus the usual Riemannian <span class="math inline">\(ds&gt;0\)</span> argument does establish the corresponding “geodesic” equation on <span class="math inline">\(N\)</span>. This is acknowledged in Levi-Civita <span class="citation" data-cites="levi">(<a href="#ref-levi" role="doc-biblioref">Levi-Civita 1977, III.XI.14</a>)</span>, but Levi-Civita argues that zero length geodesics are limits of Riemannian geodesics (<span class="math inline">\(ds&gt;0\)</span>) and that “there is a process of passing to the limit (in conditions of complete analytical regularity) from ordinary geodesics”. Levi-Civita maintains that the variational equation [Eq2] somehow “implies” the geodesic-type equation <span class="math inline">\(\nabla_{\gamma'} \gamma'=0\)</span> for light rays <span class="citation" data-cites="levi">(<a href="#ref-levi" role="doc-biblioref">Levi-Civita 1977, III.XI.18</a>)</span>.</p>
<p>Our viewpoint is that <span class="math inline">\(\nabla_{\gamma'} \gamma'=0\)</span> is an <em>independant</em> hypothesis, and by no means a formal consequence of [Eq2]. This is related to our contention that contrary to Levi-Civita’s claims, the variational equation [Eq2] on <span class="math inline">\(N=\{ds=0\}\)</span> is trivial. In Riemannian geometric terms, we find straight lines on <span class="math inline">\(N\)</span> have <em>no</em> canonical parameterizations, even affine. This reveals a clear distinction between Riemannian straight lines which <em>do</em> have a canonical arclength parameter <span class="math inline">\(ds\)</span>, and the null lines <span class="math inline">\(\ell \subset N\)</span> which do <em>not</em> admit canonical <span class="math inline">\(ds\)</span> arclength parameter <em>except the trivial <span class="math inline">\(ds=0\)</span></em>.</p>



</section>

<div id="quarto-appendix" class="default"><section class="quarto-appendix-contents" role="doc-bibliography"><h2 class="anchored quarto-appendix-heading">References</h2><div id="refs" class="references csl-bib-body hanging-indent" role="doc-bibliography">
<div id="ref-arminjon2018lorentz" class="csl-entry" role="doc-biblioentry">
Arminjon, Mayeul et al. 2018. <span>“Lorentz-Invariant Second-Order Tensors and an Irreducible Set of Matrices.”</span> <em>Journal of Geometry and Symmetry in Physics</em> 50: 1–10.
</div>
<div id="ref-bryant" class="csl-entry" role="doc-biblioentry">
Bryant, Steven. n.d. <span>“The Failure of the Einstein-Lorentz Spherical Wave Proof.”</span> <em>Proceedings of the NPA</em> 8: 64.
</div>
<div id="ref-crothers" class="csl-entry" role="doc-biblioentry">
Crothers, S. J. 2019. <em>Special Relativity and the Lorentz Sphere</em>. <a href="https://vixra.org/abs/1911.0013">https://vixra.org/abs/1911.0013</a>.
</div>
<div id="ref-einstein1905electrodynamics" class="csl-entry" role="doc-biblioentry">
Einstein, Albert et al. 1905. <span>“On the Electrodynamics of Moving Bodies.”</span> <em>Annalen Der Physik</em> 17 (10): 891–921.
</div>
<div id="ref-einstein2019relativity" class="csl-entry" role="doc-biblioentry">
Einstein, Albert. 2019. <em>Relativity: The Special and the General Theory-100th Anniversary Edition</em>. Princeton University Press.
</div>
<div id="ref-elton2010indefinite" class="csl-entry" role="doc-biblioentry">
Elton, John H. 2010. <span>“Indefinite Quadratic Forms and the Invariance of the Interval in Special Relativity.”</span> <em>The American Mathematical Monthly</em> 117 (6): 540–47.
</div>
<div id="ref-levi" class="csl-entry" role="doc-biblioentry">
Levi-Civita, T. 1977. <em>The Absolute Differential Calculus (Calculus of Tensors), Blackie, London, 1927</em>. Reprinted Dover, New York.
</div>
<div id="ref-michelson" class="csl-entry" role="doc-biblioentry">
Michelson, Albert Abraham. 1995. <em>Studies in Optics</em>. Dover Publishing.
</div>
</div></section></div></main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const clipboard = new window.ClipboardJS('.code-copy-button', {
    target: function(trigger) {
      return trigger.previousElementSibling;
    }
  });
  clipboard.on('success', function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  });
  function tippyHover(el, contentFn) {
    const config = {
      allowHTML: true,
      content: contentFn,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start'
    };
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      return note.innerHTML;
    });
  }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
</div> <!-- /content -->



</body></html>