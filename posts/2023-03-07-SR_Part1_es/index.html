<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.3.450">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">

<meta name="author" content="JHM">
<meta name="dcterms.date" content="2023-03-07">
<meta name="description" content="Estamos comenzando a publicar nuestro ensayo sobre la Relatividad Especial (SR). El ensayo es una revision critica de los fundamentos de la RS. Presentamos el articulo en varias partes. En esta primera parte, simplemente abordamos los supuestos basicos de la RS, Transformaciones de Lorentz, y el cono nulo.">

<title>Welcome to JHM Labs. - Fundamentos de Relatividad Especial y Propagacion de la Luz en el Vacio. Una revision critica. (1/4)</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
</style>


<script src="../../site_libs/quarto-nav/quarto-nav.js"></script>
<script src="../../site_libs/quarto-nav/headroom.min.js"></script>
<script src="../../site_libs/clipboard/clipboard.min.js"></script>
<script src="../../site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="../../site_libs/quarto-search/fuse.min.js"></script>
<script src="../../site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="../../">
<script src="../../site_libs/quarto-html/quarto.js"></script>
<script src="../../site_libs/quarto-html/popper.min.js"></script>
<script src="../../site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="../../site_libs/quarto-html/anchor.min.js"></script>
<link href="../../site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="../../site_libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="../../site_libs/bootstrap/bootstrap.min.js"></script>
<link href="../../site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="../../site_libs/bootstrap/bootstrap.min.css" rel="stylesheet" id="quarto-bootstrap" data-mode="light">
<script id="quarto-search-options" type="application/json">{
  "location": "navbar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "end",
  "type": "overlay",
  "limit": 20,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit",
    "search-label": "Search"
  }
}</script>

  <script src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script>
  <script src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-chtml-full.js" type="text/javascript"></script>

<link rel="stylesheet" href="../../styles.css">
</head>

<body class="nav-fixed fullcontent">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
    <nav class="navbar navbar-expand-lg navbar-dark ">
      <div class="navbar-container container-fluid">
      <div class="navbar-brand-container">
    <a class="navbar-brand" href="../../index.html">
    <span class="navbar-title">Welcome to JHM Labs.</span>
    </a>
  </div>
            <div id="quarto-search" class="" title="Search"></div>
          <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarCollapse" aria-controls="navbarCollapse" aria-expanded="false" aria-label="Toggle navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
  <span class="navbar-toggler-icon"></span>
</button>
          <div class="collapse navbar-collapse" id="navbarCollapse">
            <ul class="navbar-nav navbar-nav-scroll ms-auto">
  <li class="nav-item">
    <a class="nav-link" href="../../about.html" rel="" target="">
 <span class="menu-text">About</span></a>
  </li>  
  <li class="nav-item compact">
    <a class="nav-link" href="https://github.com/jhmartel/" rel="" target=""><i class="bi bi-github" role="img">
</i> 
 <span class="menu-text"></span></a>
  </li>  
  <li class="nav-item compact">
    <a class="nav-link" href="https://twitter.com/_jhmlabs" rel="" target=""><i class="bi bi-twitter" role="img">
</i> 
 <span class="menu-text"></span></a>
  </li>  
</ul>
            <div class="quarto-navbar-tools">
</div>
          </div> <!-- /navcollapse -->
      </div> <!-- /container-fluid -->
    </nav>
</header>
<!-- content -->
<header id="title-block-header" class="quarto-title-block default page-columns page-full">
  <div class="quarto-title-banner page-columns page-full">
    <div class="quarto-title column-body">
      <h1 class="title">Fundamentos de Relatividad Especial y Propagacion de la Luz en el Vacio. Una revision critica. (1/4)</h1>
                  <div>
        <div class="description">
          Estamos comenzando a publicar nuestro ensayo sobre la Relatividad Especial (SR). El ensayo es una revision critica de los fundamentos de la RS. Presentamos el articulo en varias partes. En esta primera parte, simplemente abordamos los supuestos basicos de la RS, Transformaciones de Lorentz, y el cono nulo.
        </div>
      </div>
                          <div class="quarto-categories">
                <div class="quarto-category">SR</div>
                <div class="quarto-category">es</div>
                <div class="quarto-category">light</div>
              </div>
                  </div>
  </div>
    
  
  <div class="quarto-title-meta">

      <div>
      <div class="quarto-title-meta-heading">Author</div>
      <div class="quarto-title-meta-contents">
               <p>JHM </p>
            </div>
    </div>
      
      <div>
      <div class="quarto-title-meta-heading">Published</div>
      <div class="quarto-title-meta-contents">
        <p class="date">March 7, 2023</p>
      </div>
    </div>
    
      
    </div>
    
  
  </header><div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article page-navbar">
<!-- sidebar -->
<!-- margin-sidebar -->
    
<!-- main -->
<main class="content quarto-banner-title-block" id="quarto-document-content">




<section id="supuestos-de-sr" class="level1">
<h1><em>Supuestos de SR</em></h1>
<p>Comenzamos con la introducción de Einstein a su teoría de la Relatividad Especial (SR):</p>
<p><em>“Difícilmente existe una ley más simple en física que aquella según la cual la luz se propaga en el espacio vacío. Todo niño en la escuela sabe, o cree saber, que esta propagación tiene lugar en línea recta con velocidad <span class="math inline">\(c=300.000\)</span> km/sec.&nbsp;¿Quién podría imaginar que esta simple ley ha hundido al físico concienzudamente reflexivo en las mayores dificultades intelectuales?</em></p>
<p>La elaboración de estas dificultades intelectuales que surgen de esta aparentemente “ley simple” es el tema de nuestra discusión hoy.</p>
<p>¿Cuáles son estas dificultades? Es decir, reconciliar los siguientes supuestos axiomáticos de la SR:</p>
<ul>
<li><p>(A1) que las leyes de la física son las mismas en todos los marcos de referencia no acelerados, es decir, si <span class="math inline">\(K'\)</span> es un sistema de coordenadas que se mueve uniformemente (y sin rotación) con respecto a un sistema de coordenadas <span class="math inline">\(K\)</span>, entonces los fenómenos naturales se ejecutan su curso con respecto a <span class="math inline">\(K'\)</span> según exactamente las mismas leyes que con respecto a <span class="math inline">\(K\)</span>.</p></li>
<li><p>(A2) que la luz en el vacío se propaga a lo largo de líneas rectas con velocidad constante <span class="math inline">\(c\approx 300.000 ~km/sec\)</span>.</p></li>
</ul>
</section>
<section id="dificultades-aparentes-en-a12" class="level1">
<h1><em>Dificultades Aparentes en (A12)</em></h1>
<p>Las dificultades surgen de la conjunción (A1) y (A2), que denotamos por (A12). <span class="math display">\[(A12):=(A1) \wedge (A2).\]</span></p>
<p>Si la Suposición (A2) es de hecho una Ley de la naturaleza, entonces de acuerdo con (A1) esta ley de propagación debería ser invariable en cada marco de referencia inercial. Pero (A12) parece contradictorio con los principios de la mecánica clásica, p.&nbsp;Ley de Fizeau de la suma de velocidades.</p>
<p>Einstein alega que estas dificultades son sólo <em>incompatibilidades aparentes</em>, todas las cuales se reconcilian al postular fórmulas de Lorentz-Fitzgerald para contracciones de longitud y dilataciones de tiempo.</p>
<p>La afirmación de que las fórmulas de Lorentz reconcilian estas dificultades contiene dos afirmaciones:</p>
<ul>
<li><ol type="i">
<li>que los marcos inerciales <span class="math inline">\(K, K'\)</span> están relacionados por transformaciones de Lorentz.</li>
</ol></li>
<li><ol start="2" type="i">
<li>que la ley de propagación de la luz (A2) es <em>invariante de Lorentz._I.e. si <span class="math inline">\((A2)\)</span> se cumple en <span class="math inline">\(K\)</span>, entonces <span class="math inline">\((A2)\)</span> se cumple en cada traducción de Lorentz <span class="math inline">\(K'=\lambda.K\)</span>.</em></li>
</ol></li>
</ul>
<p>Examinamos críticamente estas afirmaciones a continuación. En lo que sigue, abordaremos los modelos de luz tanto de <em>onda</em> como de <em>partícula</em>. En última instancia, argumentamos que (A12) es incompatible con <em>ambos</em> modelos, es decir, incompatible con el principio de complementariedad de Bohr.</p>
</section>
<section id="transformaciones-de-lorentz" class="level1">
<h1><em>Transformaciones de Lorentz</em></h1>
<p>El álgebra lineal del espacio de Minkowski y las transformaciones de Lorentz juegan un papel definitivo en SR.</p>
<p>Las transformaciones de Lorentz en el contexto de SR se pueden definir como el grupo de transformaciones lineales <span class="math inline">\(\lambda: {\bf{R}}^{4} \to {\bf{R}}^4\)</span> que satisfacen <span class="math inline">\(\lambda^* (h)=h\)</span> donde <span class="math inline">\(h=ds^2\)</span> es la forma cuadrática de Minkowski-Lorentz $<span class="math inline">\(h:=ds^2=-c^2dt^2+dx^2+dy^2+dz^2.\)</span> ps Aquí <span class="math inline">\(c\)</span> es la velocidad luminal constante en el vacío postulada por (A2).</p>
<p>La invariancia de Lorentz de <span class="math inline">\(h\)</span> dice que <span class="math display">\[\xi^2+\eta^2+\zeta^2-c^2 \tau^2\]</span> es numéricamente igual a <span class="math display">\[x^2+y^2+z^ 2-c^2 t^2\]</span> para cada transformada de Lorentz <span class="math inline">\(\lambda\)</span> que satisface <span class="math display">\[(\xi, \eta, \zeta, \tau)=\lambda.(x,y,z,t).\]</span> Por tanto, se supone que <span class="math inline">\(h\)</span> es un invariante escalar para todos los observadores inerciales.</p>
<p>Se planteó la hipótesis del grupo de transformaciones de Lorentz como un intento de explicar el resultado nulo observado del experimento del interferómetro de Michelson-Morley. El experimento estaba destinado a medir las variaciones de la velocidad de la luz en relación con el <em>éter</em>. No se descubrieron tales variaciones, y se <em>postuló</em> que las coordenadas habituales de espacio y tiempo <span class="math inline">\((x,y,z,t)\)</span> y <span class="math inline">\((\xi, \eta, \zeta, \tau)\)</span> de dos observadores inerciales $K $ y <span class="math inline">\(K'\)</span>, respectivamente, no estaban relacionados por transformaciones de Galileo, sino por las fórmulas de Lorentz-Fitzgerald. Increíblemente y contrariamente a todas las expectativas, el brazo material del interferómetro se contrajo en la dirección del movimiento y simultáneamente el parámetro de tiempo se contrajo en la misma proporción, a saber, el llamado factor beta <span class="math inline">\(\beta = 1/\sqrt{1-v ^2/c^2}\)</span>.</p>
</section>
<section id="unicidad-de-las-formas-cuadráticas-invariantes-de-lorentz" class="level1">
<h1><em>Unicidad de las formas cuadráticas invariantes de Lorentz</em></h1>
<p>Es un resultado interesante de Elton y Arminjon [insertar referencia] que la forma de Minkowski <span class="math inline">\(h\)</span> es la <em>única</em> forma cuadrática invariante de Lorentz en <span class="math inline">\({\bf{R}}^4\)</span> módulo de homotecia. Esto tiene una consecuencia útil para la ecuación de onda homogénea, como veremos más adelante.</p>
</section>
<section id="espacio-minkowski-y-cono-nulo" class="level1">
<h1><em>Espacio Minkowski y Cono Nulo</em></h1>
<p>Ahora decimos algo sobre el modelo fotónico de luz como se trata en el libro [III.XI.6, pp.301]. If light satisfies (A2) de Levi-Civita, luego en un marco de referencia <span class="math inline">\(K\)</span>, la luz es <em>algo</em> <span class="math display">\[\gamma(t)=(x(t),y(t), z(t))\]</span> que viaja a través del espacio con el tiempo, y cuya velocidad <span class="math inline">\(\gamma'\)</span> <em>si pudiera medirse materialmente como una función de <span class="math inline">\(t\)</span></em> satisfaría - [Eq1] <span class="math display">\[||\gamma'||^2=(dx/dt)^2+(dy/dt)^2+(dz/dt)^2=c^2.\]</span></p>
<p>Por lo tanto, se argumenta que las trayectorias de la luz están restringidas al cono nulo <span class="math display">\[N:=\{h=0\} \subset {\bf{R}}^4\]</span> de la métrica <span class="math inline">\(h\)</span> de Minkowski. Obviamente, el cono nulo <span class="math inline">\(N\)</span> es el subespacio invariante de Lorentz, y está definido por la ecuación <span class="math display">\[x^2+y^2+z^2=c^2 t^2\]</span> en cualquier marco de referencia <span class="math inline">\(K\)</span> con coordenadas <span class="math inline">\(( x,y,z,t)\)</span>.</p>
</section>
<section id="qué-dice-eq1-sobre-la-propagación-de-la-luz" class="level1">
<h1><em>¿Qué dice [Eq1] sobre la Propagación de la Luz?</em></h1>
<p>Nuevamente, si la luz es <em>algo</em> <span class="math inline">\(\gamma\)</span> que viaja, entonces [Eq1] implica que la <em>velocidad</em> de <span class="math inline">\(\gamma\)</span> es idénticamente igual a <span class="math inline">\(c\)</span> medida en <span class="math inline">\(K\)</span>.</p>
<p>Pero la velocidad de <span class="math inline">\(\gamma\)</span> es independiente de la dirección de movimiento de <span class="math inline">\(\gamma\)</span> restringida a <span class="math inline">\(N\)</span>.</p>
<p>La suposición de Einstein (A2) intenta prescribir la velocidad asumiendo que la propagación es a lo largo de líneas rectas con velocidad constante. Pero, de nuevo, la <em>velocidad</em> todavía está indeterminada, ya que la dirección de la partícula no está determinada por su pertenencia a una línea recta.</p>
<p>Proponemos que la dirección y la magnitud no están determinadas únicamente por (A2). Además, las transformaciones de Lorentz <em>no</em> satisfacen la afirmación (ii), es decir, (A2) <em>no</em> es <em>invariante</em> de Lorentz.</p>
<p>El problema es que la imagen del colegial de la propagación de la luz en el vacío es una perspectiva riemanniana. Pero esta perspectiva riemanniana no es invariante de Lorentz. De hecho, en la geometría de Riemann, si una partícula viaja en línea recta y con velocidad constante, entonces la propagación de la partícula, es decir, su posición en función del tiempo, <em>está</em> determinada de forma única. Sin embargo, en la geometría lorentziana, una partícula que viaja en línea recta a lo largo del cono nulo siempre tendrá una velocidad constante, independientemente de su trayectoria. Suponiendo que la trayectoria se limita a una línea recta, aún queda la cuestión de la posición de la partícula en función del tiempo. El problema es que la <em>uniformidad</em> de la propagación en línea recta no tiene sentido en el cono nulo de la geometría lorentziana.</p>
</section>
<section id="la-ecuación-variacional-de-levi-civita-es-trivial-en-el-cono-nulo" class="level1">
<h1><em>La Ecuación Variacional de Levi-Civita es Trivial en el Cono Nulo</em></h1>
<p>Aquí presentamos el enfoque de Levi-Civita como se representa en su excelente libro de texto. Levi-Civita modifica algo (A2) afirmando que “<em>la propagación de la luz es rectilínea, uniforme y con velocidad <span class="math inline">\(c\)</span>“</em>.</p>
<p>El término “uniforme” no aparece en la formulación de Einstein de (A2), aunque habla de la suposición oculta de que los rayos de luz tienen un parámetro canónico que describe el movimiento uniforme del rayo de luz. Los comentarios anteriores están directamente relacionados con la caracterización de la óptica geométrica de Levi-Civita en las siguientes dos ecuaciones (ver [III.XI.16]):</p>
<ul>
<li><p>[Eq2] <span class="math display">\[\delta \int ds=0 \]</span> y</p></li>
<li><p>[Eq3] <span class="math display">\[ds^2=0.\]</span></p></li>
</ul>
<p>La primera ecuación [Eq2] dice que la derivada variacional del funcional <span class="math inline">\(\gamma \mapsto \int_\gamma ds\)</span> desaparece en las trayectorias de la luz, y la segunda ecuación [Eq3] dice que la trayectoria está restringida al cono nulo.</p>
<p>En el entorno de Riemann donde <span class="math inline">\(ds\)</span> es definida positiva, la ecuación [Eq2] es esencialmente equivalente a la ecuación geodésica <span class="math inline">\(\nabla_{\gamma'} \gamma'=0\)</span>.</p>
<p>Sin embargo en el escenario lorentziano encontramos [Eq2]reduces to <span class="math inline">\(0=0\)</span> on the null cone <span class="math inline">\(N\)</span>. Thus the usual Riemannian <span class="math inline">\(ds&gt;0\)</span> argument does establish the corresponding “geodesic” equation on <span class="math inline">\(N\)</span>. This is acknowledged in Levi-Civita [III.XI.14], but Levi-Civita argues that zero length geodesics are limits of Riemannian geodesics (<span class="math inline">\(ds&gt;0\)</span>) y que “hay un proceso de paso al límite (en condiciones de completa regularidad analítica) desde las geodésicas ordinarias”. Levi-Civita sostiene que la ecuación variacional [Eq2] de alguna manera “implica” la ecuación de tipo geodésico <span class="math inline">\(\nabla_{\gamma'} \gamma'=0\)</span> para los rayos de luz.</p>
<p>Nuestro punto de vista es que <span class="math inline">\(\nabla_{\gamma'} \gamma'=0\)</span> es una hipótesis <em>independiente</em>, y de ninguna manera una consecuencia formal de [Eq2]. Esto está relacionado con nuestra afirmación de que, contrariamente a las afirmaciones de Levi-Civita, la ecuación variacional [Eq2] en <span class="math inline">\(N=\{ds=0\}\)</span> es trivial. En términos geométricos riemannianos, encontramos líneas rectas en <span class="math inline">\(N\)</span> que no tienen parametrizaciones canónicas, ni siquiera afines. Esto revela una clara distinción entre las rectas riemannianas que <em>sí</em> tienen un parámetro canónico de longitud de arco <span class="math inline">\(ds\)</span>, y las líneas nulas <span class="math inline">\(\ell \subset N\)</span> que <em>no</em> admiten el parámetro canónico <span class="math inline">\(ds\)</span> de longitud de arco <em>excepto el trivial <span class="math inline">\(ds=0\)</span></em> .</p>


</section>

</main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button', {
    text: function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
    }
  });
  clipboard.on('success', function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  });
  function tippyHover(el, contentFn) {
    const config = {
      allowHTML: true,
      content: contentFn,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start'
    };
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      return note.innerHTML;
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
</div> <!-- /content -->



</body></html>